# Migration and the Value of Social Networks

This folder lists all the codes for generating tables in the paper. The table below lists all the code, input data, output data, and note for each table.


| Table  | Name                                                                                            | Step                                                                                                            | Script                                                    | input data                                                                                                                                                                                                                                                                     | output                                                                                                                                                                                                                                                                                   | Note                                                                                                                                                                       |
| ---------- | ----------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Table 1    | Summary statistics of mobile phone metadata                                                     |                                                                                                                 | table1.py                                                 | XXXX_call.txt<br>XXXX_migration.txt<br>XXXX_user_result.csv                                                                                                                                                                                                                    | Table 1                                                                                                                                                                                                                                                                                  |                                                                                                                                                                            |
| Table 2    | Effects of home & destination network structure on migration                                    | step 1: generate data for regressions                                                                           | table2_step1_generate_data_for_regression.py              | XXXX_migration.txt<br>XXXX_user_result.csv                                                                                                                                                                                                                                     | dest_home_d_s_l.csv                                                                                                                                                                                                                                                                      |                                                                                                                                                                            |
|            |                                                                                                 | step 2: regression                                                                                              | table_2_step2_regression.R                                | dest_home_d_s_l.csv                                                                                                                                                                                                                                                            | Table 2                                                                                                                                                                                                                                                                                  |                                                                                                                                                                            |
| Table A1   | Detailed migration statistics derived from phone data, for different definitions of ‘migration’ |                                                                                                                 | table_A1.py                                               | XXXX_migration.txt<br>XXXX_migration_1month.txt<br>XXXX_migration_3month.txt<br>XXXX_migration_6month.txt                                                                                                                                                                      | Table A1                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A2   | Migration and destination network structure - Migrants only                                     | step 1: generate data for regressions                                                                           | table2_step1_generate_data_for_regression.py              | XXXX_migration.txt<br>XXXX_user_result.csv                                                                                                                                                                                                                                     | dest_home_d_s_l_migrants_only.csv                                                                                                                                                                                                                                                        | Use the same scipt as Table 2. But uncoment line 112 to get migrants only.                                                                                                 |
|            |                                                                                                 | step 2: regression                                                                                              | table_A2.R                                                | dest_home_d_s_l_migrants_only.csv                                                                                                                                                                                                                                              | Table A2                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A3   | Heterogeneity by Migration Frequency (Repeat and First-time)                                    | step 1: generate data for regressions                                                                           | table_A3_step1_firsttime_repeat.py                        | XXXX_migration.txt<br>XXXX_user_result.csv<br>dest_home_d_s_l.csv                                                                                                                                                                                                              | dest_home_d_s_l_firsttime_repeat.csv                                                                                                                                                                                                                                                     |                                                                                                                                                                            |
|            |                                                                                                 | step 2: regression                                                                                              | table_A3_step2.R                                          | dest_home_d_s_l_firsttime_repeat.csv                                                                                                                                                                                                                                           | Table A3                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A4   | Heterogeneity by Migration Duration (Long-term vs. Short-term)                                  | step 1: calculate longterm and shortterm migrants                                                               | table_A4_step1_longterm_migrants.py                       |                                                                                                                                                                                                                                                                                | XXXX_migration_longterm.csv<br>XXXX_migration_shortterm.csv                                                                                                                                                                                                                              |                                                                                                                                                                            |
|            |                                                                                                 | step 2: generate data for regressions                                                                           | table_A4_step2_shorttime_longtime.py                      | XXXX_user_result.csv<br>XXXX_migration.txt<br>XXXX_migration_longterm.csv<br>XXXX_migration_shortterm.csv                                                                                                                                                                      | dest_home_d_s_l_shorttime_longtime.csv                                                                                                                                                                                                                                                   |                                                                                                                                                                            |
|            |                                                                                                 | step 3: regression                                                                                              | table_A4_step3.R                                          | dest_home_d_s_l_shorttime_longtime.csv<br>dest_home_d_s_l.csv                                                                                                                                                                                                                  | Table A4                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A5   | Heterogeneity by Distance (Adjacent districts vs. Non-adjacent districts)                       | step 1: generate data for regressions                                                                           | table_A5_step1_adjacent.py                                | neighbor_district.csv<br>dest_home_d_s_l.csv                                                                                                                                                                                                                                   | dest_home_d_s_l_adjacent.csv                                                                                                                                                                                                                                                             |                                                                                                                                                                            |
|            |                                                                                                 | step 2: regression                                                                                              | table_A5_step2.R                                          | dest_home_d_s_l_adjacent.csv                                                                                                                                                                                                                                                   | Table A5                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A6   | The role of recent migrants and co-migrants                                                     | step 1: calculate recent migrants and co-migrants                                                               | table_A6_step1_network_feature_recent_migrant.py          | XXXX_call.txt<br>XXXX_modal_district.txt<br>XXXX_migration.txt                                                                                                                                                                                                                 | XXXX_user_result_recent_migrant.csv                                                                                                                                                                                                                                                      |                                                                                                                                                                            |
|            |                                                                                                 | step 2: generate data for regressions                                                                           | table_A6_step2_recent_migrant.py                          | XXXX_migration.txt<br>XXXX_user_result.csv<br>XXXX_user_result_recent_migrant.csv<br>dest_home_d_s_l.csv                                                                                                                                                                       | dest_home_d_s_l_recent_migrant.csv                                                                                                                                                                                                                                                       |                                                                                                                                                                            |
|            |                                                                                                 | step 3: regression                                                                                              | table_A6_step3.R                                          | dest_home_d_s_l_recent_migrant.csv                                                                                                                                                                                                                                             | Table A6                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A7   | Migration and networks, controlling for prior visits to the destination                         | step 1: calculate if a migrant visited the destination before                                                   | table_A7_step1_migration_visit_before.py                  | XXXX_call.txt<br>XXXX_migration.txt<br>tower_district.csv                                                                                                                                                                                                                      | XXXX_migrant_if_visit_before.csv                                                                                                                                                                                                                                                         |                                                                                                                                                                            |
|            |                                                                                                 | step 2: generate data for regressions                                                                           | table_A7_step2_visit_before.py                            | XXXX_migration.txt<br>XXXX_user_result.csv<br>XXXX_migrant_if_visit_before.csv                                                                                                                                                                                                 | dest_home_d_s_l_visit_before.csv                                                                                                                                                                                                                                                         |                                                                                                                                                                            |
|            |                                                                                                 | step 3: regression                                                                                              | table_A7_step3.R                                          | dest_home_d_s_l_visit_before.csv                                                                                                                                                                                                                                               | Table A7                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A8   | The role of strong ties and weak ties                                                           | step 1: calculate strong/weak ties                                                                              | table_A8_step1_user_feature_strongtie.py                  | XXXX_call.txt<br>XXXX_migration.txt<br>tower_district.csv                                                                                                                                                                                                                      | XXXX_user_result_strongtie.csv                                                                                                                                                                                                                                                           |                                                                                                                                                                            |
|            |                                                                                                 | step 2: generate data for regressions                                                                           | table_A8_step2_strongtie.py                               | XXXX_migration.txt<br>XXXX_user_result.csv<br>XXXX_user_result_strongtie.csv                                                                                                                                                                                                   | dest_home_d_s_l_strongtie.csv                                                                                                                                                                                                                                                            |                                                                                                                                                                            |
|            |                                                                                                 | step 3: regression                                                                                              | table_A8_step3.R                                          | dest_home_d_s_l_strongtie.csv                                                                                                                                                                                                                                                  | Table A8                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A9   | Disaggregating the friend of friend effect by the strength of the 2nd-degree tie                | step 1: calculate strong/weak ties for information and support                                                  | table_A9_A10_step1_strongweak.py                          | XXXX_call.txt<br>XXXX_modal_district.txt<br>XXXX_migration.txt                                                                                                                                                                                                                 | XXXX_user_result_infor_support_strong.csv                                                                                                                                                                                                                                                |                                                                                                                                                                            |
|            |                                                                                                 | step 2: generate data for regressions                                                                           | table_A9_step2_infor_strong.py                            | XXXX_migration.txt<br>XXXX_user_result.csv<br>XXXX_user_result_infor_support_strong.csv.csv                                                                                                                                                                                    | dest_home_d_s_l_infor_strong.csv                                                                                                                                                                                                                                                         |                                                                                                                                                                            |
|            |                                                                                                 | step 3: regression                                                                                              | table_A9_step3.R                                          | dest_home_d_s_l_infor_strong.csv                                                                                                                                                                                                                                               | Table A9                                                                                                                                                                                                                                                                                 |                                                                                                                                                                            |
| Table A10  | Disaggregating the network support effect by the strength of supported ties                     | step 1: calculate strong/weak ties for information and support                                                  | table_A9_A10_step1_strongweak.py                          | XXXX_call.txt<br>XXXX_modal_district.txt<br>XXXX_migration.txt                                                                                                                                                                                                                 | XXXX_user_result_infor_support_strong.csv                                                                                                                                                                                                                                                |                                                                                                                                                                            |
|            |                                                                                                 | step 2: generate data for regressions                                                                           | table_A10_step2_support_strong.py                         | XXXX_migration.txt<br>XXXX_user_result.csv<br>XXXX_user_result_infor_support_strong.csv<br>XXXX_user_result_strongtie.csv                                                                                                                                                      | dest_home_d_s_l_support_strong.csv                                                                                                                                                                                                                                                       |                                                                                                                                                                            |
|            |                                                                                                 | step 3: regression                                                                                              | table_A10_step3.R                                         | dest_home_d_s_l_support_strong.csv<br>dest_home_d_s_l.csv                                                                                                                                                                                                                      | Table A10                                                                                                                                                                                                                                                                                |                                                                                                                                                                            |
| Table A11  | Beyond location-specific subnetworks                                                            | step 1: calculate overall information                                                                           | table_A11_step1_information_overall.py                    | XXXX_call.txt<br>XXXX_modal_district.txt<br>XXXX_migration.txt                                                                                                                                                                                                                 | XXXX_information_overall_network.csv                                                                                                                                                                                                                                                     |                                                                                                                                                                            |
|            |                                                                                                 | step 2: generate data for regressions                                                                           | table_A11_step2_beyond_location.py                        | XXXX_migration.txt<br>XXXX_user_result.csv<br>XXXX_information_overall_network.csv                                                                                                                                                                                             | dest_home_d_s_l_information_overall_network.csv                                                                                                                                                                                                                                          |                                                                                                                                                                            |
|            |                                                                                                 | step 3: regression                                                                                              | table_A11_step3.R                                         | dest_home_d_s_l_information_overall_network.csv                                                                                                                                                                                                                                | Table A11                                                                                                                                                                                                                                                                                |                                                                                                                                                                            |
| Table A12  | Jointly estimated effects (6 month network lag)                                                 |                                                                                                                 | table_A12.R                                               | same input files as Table 2.                                                                                                                                                                                                                                                   | Table A12                                                                                                                                                                                                                                                                                | Preprocessing steps are the same as Table 2. Only need to change line 119 in network_structure.py to network_date = start_date + relativedelta(months=i - pre_month_n + 1) |
| Table A13  | “Shift share” regression results                                                                | step 1: calculate shift share network features                                                                  | table_A13_step1_network_feature.py                        | XXXX_call.txt<br>XXXX_modal_district.txt<br>XXXX_migration.txt                                                                                                                                                                                                                 | user_result_information_support_diff_if_remained_True_XXXX_between_XX_to_XX_months.csv                                                                                                                                                                                                   |                                                                                                                                                                            |
|            |                                                                                                 | step 2: generate data for regressions                                                                           | table_A13_step2_shift_share_data.py                       | XXXX_migration.txt<br>user_result_information_support_diff_if_remained_True_XXXX_between_XX_to_XX_months.csv                                                                                                                                                                   | dest_home_for_regression_information_support_diff_between_XX_to_XX_month.csv                                                                                                                                                                                                             |                                                                                                                                                                            |
|            |                                                                                                 | step 3: regression                                                                                              | table_A13_step3.R                                         | dest_home_for_regression_information_support_diff_between_XX_to_XX_month.csv                                                                                                                                                                                                   | Table A13                                                                                                                                                                                                                                                                                |                                                                                                                                                                            |
| Table A14  | Robustness to alternative fixed effect specifications                                           |                                                                                                                 | table_A14.R                                               | dest_home_d_s_l.csv                                                                                                                                                                                                                                                            | Table A14                                                                                                                                                                                                                                                                                |